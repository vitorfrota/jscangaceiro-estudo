{"version":3,"sources":["../../../app-src/util/decorators/Controller.js"],"names":["controller","seletores","elementos","map","seletor","document","querySelector","constructor","constructorOriginal","constructorNovo","instance","Object","getOwnPropertyNames","prototype","forEach","property","Reflect","hasMetadata","associaEvento","getMetadata","metadado","selector","addEventListener","event","prevent","preventDefault","propertyKey"],"mappings":";;;AAAO,aAASA,UAAT,CAAoB,GAAGC,SAAvB,EAAiC;AACpC,cAAMC,YAAYD,UACGE,GADH,CACOC,WAAWC,SAASC,aAAT,CAAuBF,OAAvB,CADlB,CAAlB;;AAGA,eAAO,UAASG,WAAT,EAAqB;AACxB,kBAAMC,sBAAsBD,WAA5B;;AAEA,kBAAME,kBAAkB,YAAU;AAC9B,sBAAMC,WAAW,IAAIF,mBAAJ,CAAwB,GAAGN,SAA3B,CAAjB;;AAEAS,uBACCC,mBADD,CACqBJ,oBAAoBK,SADzC,EAECC,OAFD,CAESC,YAAY;AACjB,wBAAGC,QAAQC,WAAR,CAAoB,WAApB,EAAiCP,QAAjC,EAA2CK,QAA3C,CAAH,EAAwD;AACpDG,sCACIR,QADJ,EAEIM,QAAQG,WAAR,CAAoB,WAApB,EAAiCT,QAAjC,EAA2CK,QAA3C,CAFJ;AAIH;AACJ,iBATD;AAUH,aAbD;;AAeAN,4BAAgBI,SAAhB,GAA4BL,oBAAoBK,SAAhD;;AAEA,mBAAOJ,eAAP;AACH,SArBD;;AAuBA,iBAASS,aAAT,CAAuBR,QAAvB,EAAiCU,QAAjC,EAA0C;AACtCf,qBAASC,aAAT,CAAuBc,SAASC,QAAhC,EACCC,gBADD,CACkBF,SAASG,KAD3B,EACkCA,SAAS;AACvC,oBAAGH,SAASI,OAAZ,EAAqBD,MAAME,cAAN;AACrBf,yBAASU,SAASM,WAAlB,EAA+BH,KAA/B;AACH,aAJD;AAKH;AACJ;;0BAlCevB,U","file":"Controller.js","sourcesContent":["export function controller(...seletores){\r\n    const elementos = seletores\r\n                        .map(seletor => document.querySelector(seletor));\r\n\r\n    return function(constructor){\r\n        const constructorOriginal = constructor;\r\n\r\n        const constructorNovo = function(){\r\n            const instance = new constructorOriginal(...elementos);\r\n\r\n            Object\r\n            .getOwnPropertyNames(constructorOriginal.prototype)\r\n            .forEach(property => {\r\n                if(Reflect.hasMetadata('bindEvent', instance, property)){\r\n                    associaEvento(\r\n                        instance, \r\n                        Reflect.getMetadata('bindEvent', instance, property)\r\n                    )\r\n                }\r\n            })\r\n        }\r\n\r\n        constructorNovo.prototype = constructorOriginal.prototype;\r\n\r\n        return constructorNovo;\r\n    }\r\n\r\n    function associaEvento(instance, metadado){\r\n        document.querySelector(metadado.selector)\r\n        .addEventListener(metadado.event, event => {\r\n            if(metadado.prevent) event.preventDefault();\r\n            instance[metadado.propertyKey](event);\r\n        })\r\n    }\r\n}"]}